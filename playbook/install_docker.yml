---
- hosts: all
  become: yes

  tasks:
  - name: add docker-ce repo.
    shell: "yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo"
    args:
      chdir: "/etc/yum.repos.d"
      creates: docker-ce.repo

  - name: dnf install list of packages
    yum:
      name: "{{packages}}"
    vars:
      packages:
      - docker-ce
      - docker-ce-cli
      - jq
